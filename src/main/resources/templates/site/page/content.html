<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-transform"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="icon" th:href="@{/public/favicon.png}" type="image/png">
    <link rel="apple-touch-icon" th:href="@{/public/favicon.png}"/>
    <title>详情 - Tumo Blog</title>
    <link rel="stylesheet" th:href="@{/plugins/css/default.min.css}"/>
    <link rel="stylesheet" th:href="@{../../../site/css/index.css}">
    <link rel="stylesheet" th:href="@{../../../site/css/content.css}">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script th:inline="javascript" th:src="@{/plugins/js/highlight.min.js}"></script>
    <script th:inline="javascript" th:src="@{/plugins/js/instantclick.min.js}"></script>
    <link rel="stylesheet" th:href="@{../../../lib/element-ui/lib/theme-chalk/index.css}">

    <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/r29/html5.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body gtools_scp_screen_capture_injected="true">

<!--[if lt IE 8]>
<div class="browsehappy" role="dialog">
    当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/" target="_blank">升级你的浏览器</a>。
</div>
<![endif]-->

<!-- header -->
<div th:replace="site/header :: header"></div>

<!-- main -->
<div id="app">
    <article class="main-content page-page" itemscope itemtype="http://schema.org/Article">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                <a :href="'/article/' + entity.article.id" v-text="entity.article.title"></a>
            </h1>
            <div class="post-data">
                <time datetime="2017-02-25" itemprop="datePublished">发布于 {{entity.article.publishTime}}</time>
                / <a :href="'/category/' + entity.article.category" v-text="entity.article.category"></a> / <a
                    href="#comments"><b v-text="config.commentsCount"></b> 条评论</a> /
                <b v-text="12"></b> 浏览
            </div>
        </div>
        <div id="post-content" class="post-content" itemprop="articleBody" v-html="entity.article.content"></div>
    </article>
    <div id="directory-content" class="directory-content">
        <div id="directory"></div>
    </div>

    <!-- comments-form -->
    <!--<div class="comments-form" ref="comments" id="comments">
        <el-card shadow="always" style="margin-top: 50px;">
            <el-form :inline="true" :model="editor.comments" ref="editor">
                <input hidden="hidden" :value="entity.article.id" ref="articleId"/>
                <input hidden="hidden" :value="entity.article.title" ref="articleTitle"/>
                <el-form-item required prop="author" :rules="[{ required: true, message: '请输入姓名'}]">
                    <el-input v-model="editor.comments.author" placeholder="姓名（*）"></el-input>
                </el-form-item>
                <el-form-item required prop="email" :rules="[{ required: true, message: '请输入邮箱'}]">
                    <el-input v-model="editor.comments.email" placeholder="邮箱（*）"></el-input>
                </el-form-item>
                <el-form-item>
                    <el-input v-model="editor.comments.url" placeholder="网址（http://）"></el-input>
                </el-form-item>
            </el-form>
            <div>
                <el-input :placeholder="config.holder" ref="content" v-model="editor.comments.content" type="textarea"></el-input>
                <div class="submit">
                    <el-button size="mini" round @click="submit">提交</el-button>
                </div>
            </div>
        </el-card>
    </div>

    <div v-if="entity.comments.length > 0">
        &lt;!&ndash; comments-info &ndash;&gt;
        <div class="comments-info" v-for="item in entity.comments">
            <el-card shadow="always" :id="item.id">
                <div class="comment-author">
                    <img class="el-tooltip" src="http://tycoding.cn/author/avatar.png"/>
                    <span>{{item.author}}</span>
                </div>
                <div class="comment-meta">
                    <div class="comment-content">
                        <span><a :href="item.parentId" v-text="item.authorId"></a></span>
                        <span v-text="item.content"></span>
                    </div>
                    <div class="comment-time">
                        <b v-text="item.time"></b>
                        <span class="talk" v-if="item.parentId != null" @click="talkBtn(item.parentId, item.id)"><b class="fa fa-comments fa-fw"></b>查看对话</span>
                        <span class="comment-replay">
                                        <b @click="replay(item.author, item.id)">回复</b>
                                    </span>
                    </div>
                </div>
            </el-card>
        </div>
        <br/>
        &lt;!&ndash; 分页 &ndash;&gt;
        <div class="pagination">
            <el-pagination
                    background
                    @size-change="handleSizeChange"
                    @current-change="handleCurrentChange"
                    :current-page="pageConf.pageCode"
                    :page-sizes="pageConf.pageOption"
                    :page-size="pageConf.pageSize"
                    layout="total, sizes, prev, pager, next, jumper"
                    :total="pageConf.totalPage">
            </el-pagination>
        </div>
    </div>-->

    <div id="5" class="comment-container">
        <div id="comments" class="clearfix">
            <span class="response"></span>
            <form method="post" id="comment-form" class="comment-form">
                <input type="hidden" name="coid" id="coid"/>
                <input type="hidden" name="cid" id="cid" value="5"/>
                <input type="hidden" name="csrf_token" value=""/>
                <input name="author" maxlength="12" id="author" class="form-control input-control clearfix" placeholder="姓名 (*)" value="" required/>
                <input type="email" name="mail" id="mail" class="form-control input-control clearfix" placeholder="邮箱 (*)" value="" required/>
                <input type="url" name="url" id="url" class="form-control input-control clearfix" placeholder="网址 (http://)" value=""/>
                <textarea name="content" id="textarea" class="form-control" placeholder="基佬，留下你的评论." required minlength="5" maxlength="2000"></textarea>
                <button class="submit" id="misubmit">提交</button>
            </form>

            <ol class="comment-list">
                <li id="li-comment-82" class="comment-body comment-parent comment-odd">
                    <div id="comment-82">
                        <div class="comment-view" onclick="">
                            <div class="comment-header">
                                <img class="avatar"
                                     src="https://cn.gravatar.com/avatar/e40d491a5b8182e55f5dc8db37a51333?s=80&r=G&d="
                                     title="哦买嘎的"
                                     width="80" height="80">
                                <span class="comment-author">
                                <a href="http://www.163.com" target="_blank" rel="external nofollow">哦买嘎的</a>
                            </span>
                            </div>
                            <div class="comment-content">
                                <span class="comment-author-at"></span>
                                <p>
                                <p>赞下群主，给力</p>
                                </p>
                            </div>
                            <div class="comment-meta">
                                <time class="comment-time">2017-02-28</time>
                                <span class="comment-reply">
                                <a rel="nofollow" onclick="TaleComment.reply('82');">回复</a>
                            </span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-children">
                        <ol class="comment-list">
                            <li id="li-comment-148"
                                class="comment-body comment-child comment-level-odd comment-odd">
                                <div id="comment-148">
                                    <div class="comment-view">
                                        <div class="comment-header">
                                            <img class="avatar"
                                                 src="https://cn.gravatar.com/avatar/377ed2391fea7e52a7dd4def8fb8f6af?s=80&r=G&d="
                                                 title="阿斯" width="80" height="80">
                                            <span class="comment-author comment-by-author">
                                            <a href="http://club.xywy.com/static" target="_blank"
                                               rel="external nofollow">阿斯</a>
                                        </span>
                                        </div>
                                        <div class="comment-content">
                                        <span class="comment-author-at">
                                            <a href="#comment-82">@哦买嘎的</a>
                                        </span>
                                            <p>
                                            <p>asdfsadfasdfsa</p>
                                            </p>
                                        </div>
                                        <div class="comment-meta">
                                            <time class="comment-time">2017-03-19</time>
                                            <span class="comment-reply">
                                            <a rel="nofollow" onclick="TaleComment.reply('148');">回复</a>
                                        </span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ol>
                    </div>
                </li>
            </ol>
            <div class="lists-navigator clearfix">
                <ol class="page-navigator">
                    <!--<li  class="current" ><a href="/page/1">1</a></li>
                    <li ><a href="/page/2">2</a></li>
                    <li class="next"><a href="/page/2">→</a></li>-->

                    <el-pagination
                            background
                            @current-change="handleCurrentChange"
                            :current-page="pageConf.pageCode"
                            :page-size="pageConf.pageSize"
                            layout="prev, pager, next"
                            :total="pageConf.totalPage">
                    </el-pagination>
                </ol>
            </div>
        </div>
    </div>

    <!-- 对话展示框 -->
    <el-dialog
            title="查看对话"
            :visible.sync="config.talkDialog"
            width="30%">
        <span>
            <div v-for="item in entity.comments">
                <div v-if="item.parentId != null">
                                    <!-- talk==子级 -->
                <div v-if="config.talkId == item.parentId.substring(1)">
                    <el-card shadow="always" :id="item.id">
                        <div class="comment-author">
                            <img class="el-tooltip" src="http://tycoding.cn/author/avatar.png"/>
                            <span v-text="item.author"></span>
                        </div>
                        <div class="comment-meta">
                            <div class="comment-content">
                                <span><a :href="item.parentId" v-text="item.authorId"></a></span>
                                <span v-text="item.content"></span>
                            </div>
                            <div class="comment-time" v-text="item.time">
                            </div>
                        </div>
                    </el-card>
                </div>
                    <!-- talk==自己 -->
                <div v-if="config.talkId == item.id">
                    <el-card shadow="always" :id="item.id">
                        <div class="comment-author">
                            <img class="el-tooltip" src="http://tycoding.cn/author/avatar.png"/>
                            <span v-text="item.author"></span>
                        </div>
                        <div class="comment-meta">
                            <div class="comment-content">
                                <span><a :href="item.parentId" v-text="item.authorId"></a></span>
                                <span v-text="item.content"></span>
                            </div>
                            <div class="comment-time" v-text="item.time">
                            </div>
                        </div>
                    </el-card>
                </div>
                <div v-else-if="config.talkPId.substring(1) == item.id">
                    <el-card shadow="always" :id="item.id">
                        <div class="comment-author">
                            <img class="el-tooltip" src="http://tycoding.cn/author/avatar.png"/>
                            <span v-text="item.author"></span>
                        </div>
                        <div class="comment-meta">
                            <div class="comment-content">
                                <span><a :href="item.parentId" v-text="item.authorId"></a></span>
                                <span v-text="item.content"></span>
                            </div>
                            <div class="comment-time" v-text="item.time">
                            </div>
                        </div>
                    </el-card>
                </div>
                </div>

            </div>
        </span>
        <span slot="footer" class="dialog-footer">
            <el-button @click="config.talkDialog = false">关闭</el-button>
        </span>
    </el-dialog>

    <!-- footer -->
    <div th:replace="site/footer :: footer"></div>

</div>
</body>
<script th:inline="javascript" th:src="@{https://cdn.jsdelivr.net/npm/vue/dist/vue.js}"></script>
<script th:inline="javascript" th:src="@{../../../lib/vue/vue-resource.js}"></script>
<script th:inline="javascript" th:src="@{../../../lib/element-ui/lib/index.js}"></script>
<script th:inline="javascript" th:src="@{../../site/js/content.js }"></script>
<script th:src="@{/plugins/js/headroom.min.js}" type="text/javascript"></script>
<script th:src="@{/plugins/js/instantclick.min.js}" type="text/javascript"></script>
<script type="text/javascript">
    var header = new Headroom(document.getElementById("header"), {
        tolerance: 10,
        offset: 80,
        classes: {
            initial: "animated",
            pinned: "slideDown",
            unpinned: "slideUp"
        }
    });
    header.init();
</script>
<script data-no-instant type="text/javascript">
    InstantClick.on('change', function (isInitialLoad) {
        var blocks = document.querySelectorAll('pre code');
        for (var i = 0; i < blocks.length; i++) {
            hljs.highlightBlock(blocks[i]);
        }
        if (isInitialLoad === false) {
            if (typeof ga !== 'undefined') ga('send', 'pageview', location.pathname + location.search);
        }
    });
    InstantClick.init('mousedown');
</script>
<script src="https://ajax.cloudflare.com/cdn-cgi/scripts/2448a7bd/cloudflare-static/rocket-loader.min.js"></script>

</html>